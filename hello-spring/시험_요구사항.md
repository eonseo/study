# Spring Boot 회원 관리 시스템 구현 시험

**총점: 100점**  
**제한시간: 90분**

---

## 📋 시험 개요

Spring Initializr를 사용하여 Spring Boot 프로젝트를 생성하고, 회원 관리 시스템을 구현하세요.  
프로젝트는 **계층형 아키텍처(Controller-Service-Repository)**를 따르며, 메모리 기반 저장소를 사용합니다.

---

## 🎯 필수 요구사항 (총 100점)

### 1. 프로젝트 설정 (10점)

#### 1-1. Spring Initializr 설정 (5점)
- [ ] Spring Boot 3.x 버전 사용
- [ ] Java 17 사용
- [ ] Gradle 프로젝트로 생성
- [ ] 다음 의존성 추가:
  - Spring Web
  - Thymeleaf
  - Spring Boot Test

#### 1-2. 프로젝트 구조 (5점)
- [ ] 패키지 구조 생성:
  - `domain`: 도메인 모델 클래스
  - `repository`: 저장소 인터페이스 및 구현체
  - `service`: 비즈니스 로직
  - `controller`: 웹 컨트롤러

---

### 2. Domain 계층 구현 (15점)

#### 2-1. Member 엔티티 클래스 (15점)
- [ ] `hello.hello_spring.domain` 패키지에 `Member` 클래스 생성
- [ ] 필드:
  - `Long id`: 회원 고유 식별자
  - `String name`: 회원 이름
- [ ] 모든 필드에 대한 getter/setter 메서드 구현
- [ ] 접근 제어자: 필드는 `private`, 메서드는 `public`

**구현 예시:**
```java
public class Member {
    private Long id;
    private String name;
    // getter, setter 메서드
}
```

---

### 3. Repository 계층 구현 (25점)

#### 3-1. MemberRepository 인터페이스 (10점)
- [ ] `hello.hello_spring.repository` 패키지에 인터페이스 생성
- [ ] 다음 메서드 선언:
  - `Member save(Member member)`: 회원 저장
  - `Optional<Member> findById(Long id)`: ID로 회원 조회
  - `Optional<Member> findByName(String name)`: 이름으로 회원 조회
  - `List<Member> findAll()`: 전체 회원 조회

#### 3-2. MemoryMemberRepository 구현체 (15점)
- [ ] `MemberRepository` 인터페이스 구현
- [ ] 내부 저장소: `Map<Long, Member>` 사용 (static 필드)
- [ ] ID 자동 증가: `long sequence` 사용 (static 필드)
- [ ] `save()`: 회원 저장 시 ID 자동 할당 및 저장
- [ ] `findById()`: Map에서 ID로 조회
- [ ] `findByName()`: Stream API를 사용하여 이름으로 조회
- [ ] `findAll()`: 모든 회원을 List로 반환
- [ ] `clearStore()`: 테스트를 위한 저장소 초기화 메서드 추가

**구현 예시:**
```java
public class MemoryMemberRepository implements MemberRepository {
    private static Map<Long, Member> store = new HashMap<>();
    private static long sequence = 0L;
    // 메서드 구현
}
```

---

### 4. Service 계층 구현 (25점)

#### 4-1. MemberService 클래스 (25점)
- [ ] `hello.hello_spring.service` 패키지에 클래스 생성
- [ ] 생성자 주입: `MemberRepository`를 생성자로 주입받기
- [ ] `join(Member member)`: 회원가입 메서드
  - 중복 회원 검증 수행
  - 검증 통과 시 저장소에 저장
  - 저장된 회원의 ID 반환
- [ ] `validateDuplicateMember(Member member)`: 중복 회원 검증 (private 메서드)
  - 같은 이름의 회원이 이미 존재하면 `IllegalStateException` 발생
  - 예외 메시지: `"이미 존재하는 회원입니다."`
- [ ] `findMembers()`: 전체 회원 조회
- [ ] `findOne(Long memberId)`: ID로 회원 조회

**구현 예시:**
```java
public class MemberService {
    private final MemberRepository memberRepository;
    
    public MemberService(MemberRepository memberRepository) {
        this.memberRepository = memberRepository;
    }
    // 메서드 구현
}
```

---

### 5. Test 코드 작성 (25점)

#### 5-1. MemoryMemberRepositoryTest (10점)
- [ ] `@AfterEach`를 사용하여 각 테스트 후 저장소 초기화
- [ ] `save()` 테스트: 회원 저장 후 조회하여 검증
- [ ] `findByName()` 테스트: 이름으로 회원 조회 검증
- [ ] `findAll()` 테스트: 전체 회원 조회 시 개수 검증

#### 5-2. MemberServiceTest (15점)
- [ ] `@BeforeEach`: 각 테스트 전에 `MemberService`와 `MemoryMemberRepository` 인스턴스 생성
- [ ] `@AfterEach`: 각 테스트 후 저장소 초기화
- [ ] `회원가입()` 테스트:
  - 회원 생성 및 가입
  - 가입한 회원을 ID로 조회하여 이름이 일치하는지 검증
- [ ] `중복_회원_예외()` 테스트:
  - 같은 이름의 회원 2명 생성
  - 첫 번째 회원 가입 성공
  - 두 번째 회원 가입 시 `IllegalStateException` 발생 검증
  - `assertThrows`를 사용하여 예외 검증
  - 예외 메시지가 `"이미 존재하는 회원입니다."`인지 검증

**구현 예시:**
```java
@BeforeEach
public void beforeEach() {
    memberRepository = new MemoryMemberRepository();
    memberService = new MemberService(memberRepository);
}

@Test
public void 중복_회원_예외() {
    // given
    Member member1 = new Member();
    member1.setName("spring");
    Member member2 = new Member();
    member2.setName("spring");
    
    // when
    memberService.join(member1);
    IllegalStateException e = assertThrows(IllegalStateException.class, 
        () -> memberService.join(member2));
    
    // then
    assertThat(e.getMessage()).isEqualTo("이미 존재하는 회원입니다.");
}
```

---

## ✅ 채점 기준

### 기능 구현 점수 배분
- 프로젝트 설정: 10점
- Domain 계층: 15점
- Repository 계층: 25점
- Service 계층: 25점
- Test 코드: 25점

### 감점 사항
- 컴파일 오류: 해당 항목 전체 점수 감점
- 런타임 오류: 해당 항목의 50% 점수 감점
- 테스트 실패: 해당 테스트 항목 전체 점수 감점
- 코드 스타일/네이밍 규칙 위반: 항목당 2점 감점

### 가산점 (선택사항, 총 10점)
- [ ] `findMembers()` 테스트 코드 작성: +5점
- [ ] `findOne()` 테스트 코드 작성: +5점

---

## 📝 제출 방법

1. 프로젝트 전체를 압축하여 제출
2. `build.gradle` 파일 포함 확인
3. 모든 테스트가 통과하는지 확인 후 제출

---

## 💡 힌트

- Spring Initializr: https://start.spring.io/
- Optional 사용 시 `.get()`, `.orElse()`, `.ifPresent()` 메서드 활용
- Stream API의 `.filter()`, `.findAny()` 메서드 활용
- AssertJ의 `assertThat()` 사용 권장
- JUnit 5의 `@BeforeEach`, `@AfterEach`, `assertThrows()` 활용

---

## 🎓 평가 기준

| 점수 | 평가 |
|------|------|
| 90점 이상 | 우수 - 모든 기능이 정상 작동하며 테스트 통과 |
| 80-89점 | 양호 - 대부분의 기능이 정상 작동 |
| 70-79점 | 보통 - 기본 기능은 작동하나 일부 오류 존재 |
| 60-69점 | 미흡 - 기본 구조는 있으나 기능 미완성 |
| 60점 미만 | 불합격 - 프로젝트 구조 미완성 또는 컴파일 오류 |

---

**화이팅! 💪**


