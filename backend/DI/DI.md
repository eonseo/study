# ì˜ì¡´ì„± ì£¼ì…(DI) í•™ìŠµ ì •ë¦¬

## ğŸ“‹ ëª©ì°¨

1. [ì˜ì¡´ì„±ê³¼ DIë€?](#1-ì˜ì¡´ì„±ê³¼-dië€)
2. [DIì˜ í•„ìš”ì„±](#2-diì˜-í•„ìš”ì„±)
3. [Spring Frameworkì˜ ì—­í• ](#3-spring-frameworkì˜-ì—­í• )
4. [ëª…ì‹œì  DI - @Configurationê³¼ @Bean](#4-ëª…ì‹œì -di---configurationê³¼-bean)
5. [Bean ìƒëª…ì£¼ê¸°](#5-bean-ìƒëª…ì£¼ê¸°)

---

## 1. ì˜ì¡´ì„±ê³¼ DIë€?

### 1.1 ì˜ì¡´ì„±(Dependency)ì˜ ê°œë…

**ì˜ì¡´ì„±**ì´ë€?

- ì–´ë–¤ ê°ì²´(ë¹ˆ)ê°€ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ì²˜ë¦¬ë¥¼ ìœ„í•´ ë‹¤ë¥¸ ê°ì²´(ë¹ˆ)ì— ì˜ì¡´í•˜ëŠ” ê´€ê³„
- ê°ì²´ ê°„ **has-a ê´€ê³„**
- ì˜ˆì‹œ: "AëŠ” B ì—†ì´ ì¼ì„ ëª»í•œë‹¤" = AëŠ” Bì— ì˜ì¡´í•œë‹¤

### 1.2 ì˜ì¡´ì„± ì£¼ì…(DI, Dependency Injection)

**DIë€?**

- ê°ì²´ì˜ ì˜ì¡´ì„±(ë©¤ë²„ ë³€ìˆ˜ = í•„ìš”í•œ ë¶€í’ˆ)ì„ **ì™¸ë¶€ì—ì„œ ì£¼ì…**í•˜ëŠ” ê²ƒ
- ì˜ì¡´ ê´€ê³„ ê´€ë¦¬ë¥¼ ìœ„í•´ DI ê°œë…ì„ ì‚¬ìš©í•˜ë©°, ì´ ê³¼ì •ì—ì„œ **ì œì–´ì˜ ì—­ì „(IoC)** ë°œìƒ

**ìŠ¤í”„ë§ = IoC(Inversion Of Control) ì»¨í…Œì´ë„ˆ**

- ë¹„ìœ : **ë ŒíƒˆíšŒì‚¬**
- ì „í†µì ìœ¼ë¡œëŠ” ì˜ì¡´ì„±ì„ ì§ì ‘ êµ¬ë§¤í–ˆì§€ë§Œ, ìµœê·¼ì—ëŠ” ë Œíƒˆ ì„œë¹„ìŠ¤ê°€ ê¸‰ê²©íˆ ì¦ê°€!

### 1.3 ìŠ¤í”„ë§ ë¹ˆ(Spring Bean)

**ìŠ¤í”„ë§ ë¹ˆì´ë€?**

- ìŠ¤í”„ë§ í”„ë ˆì„ì›Œí¬ì— ì˜í•´ **ìƒì„±ë˜ê³  ê´€ë¦¬ë˜ëŠ” ìë°” ê°ì²´**
- ìŠ¤í”„ë§ì€ ë¹ˆì˜ ìƒì„±, ì˜ì¡´ê´€ê³„ ì„¤ì •, ê°ì²´ ê´€ë¦¬ ë“± **ë¹ˆì˜ ë¼ì´í”„ ì‚¬ì´í´ì„ ê´€ë¦¬**
- **ìŠ¤í”„ë§ = ë¹ˆì˜ ì»¨í…Œì´ë„ˆ**

**POJO(Plain Old Java Object)**

- ê·¸ëƒ¥ í‰ë²”í•œ ìë°” ê°ì²´
- Springì€ WasherUser, SWasher, LWasher ê°™ì€ ê°ì²´ë¥¼ ë¹ˆìœ¼ë¡œ ê´€ë¦¬
- íŠ¹ë³„í•œ ì œì•½ ì—†ì´ ì¼ë°˜ì ì¸ ìë°” ê°ì²´ë¡œ ë§Œë“¤ë©´ ë¨

---

## 2. DIì˜ í•„ìš”ì„±

### 2.1 ì§ì ‘ ìƒì„± ë²„ì „ (ë¬¸ì œì )

**ì½”ë“œ êµ¬ì¡°**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ WasherUser â”‚------> â”‚   Swasher  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â”‚  has-a (ì§ì ‘ ìƒì„±)
        â–¼
ì˜ì¡´ì„± ê°•í•¨ (ê°•ê²°í•©, Tight Coupling)
```

**ì½”ë“œ ì˜ˆì‹œ**

```java
public class WasherUser {
    Swasher washer; // has-a ê´€ê³„: ì˜ì¡´ì„±

    public WasherUser() {
        this.washer = new Swasher(); // ì˜ì¡´ì„±ì„ ì§ì ‘ ìƒì„±
    }

    public void useWasher(String clothes) {
        washer.wash(clothes);
    }
}

public class SWasher {
    public void wash(String clothes) {
        System.out.println("SWasher ë¡œ ì„¸íƒ: " + clothes);
    }
}
```

**ë¬¸ì œì **

- ì„¸íƒê¸°ë¥¼ SWasherì—ì„œ ë‹¤ë¥¸ ê²ƒìœ¼ë¡œ ë°”ê¾¸ë ¤ë©´ **ìœ ì§€ë³´ìˆ˜ê°€ ì–´ë ¤ì›€**
- ì½”ë“œ ìˆ˜ì •ì´ í•„ìš”í•¨
- ê°•ê²°í•©(Tight Coupling) ìƒíƒœ

### 2.2 Factory + ì£¼ì… ë²„ì „ (í•´ê²°ì±…)

**ì½”ë“œ êµ¬ì¡°**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  WasherUserâ”‚------>â”‚   Washer   â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
        â”‚                      â–²                   â”‚
        â”‚ (ì˜ì¡´ì„± ì£¼ì…)         â”‚ (ìƒì†/êµ¬í˜„)        â”‚
        â–¼                     â”‚                   â”‚
    ëŠìŠ¨í•œ ê²°í•©               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                             â”‚  LWasher  â”‚   â”‚  Swasher  â”‚
                             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                   â–²
                                                   â”‚
                                      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚
                             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                             â”‚   WasherFactory    â”‚
                             â”‚ createWasher(type) â”‚
                             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ì½”ë“œ ì˜ˆì‹œ**

```java
public class WasherUser {
    Washer washer; // has-a ê´€ê³„ - ì˜ì¡´ì„±

    // ì˜ì¡´ì„±ì„ ì§ì ‘ ìƒì„±í•˜ì§€ ì•Šê³  ì™¸ë¶€ì—ì„œ ì£¼ì…ë°›ìŒ
    public WasherUser(Washer washer) {
        this.washer = washer;
    }
}

public class WasherFactory {
    public static Washer createWasher(String type) {
        return switch(type) {
            case "L" -> new LWasher();
            default -> new Swasher();
        };
    }
}
```

**ì¥ì **

- WasherFactoryë¥¼ í†µí•´ ì„¸íƒê¸°ë¥¼ ì–»ì–´ì„œ ì£¼ì…
- WasherUserëŠ” ë” ì´ìƒ ì„¸íƒê¸°ë¥¼ ìƒì„±í•˜ì§€ ì•ŠìŒ
- ëŠìŠ¨í•œ ê²°í•©(Loose Coupling) ìƒíƒœ

### 2.3 ë¹„êµí‘œ

| êµ¬ë¶„            | ì§ì ‘ ìƒì„± ë²„ì „                         | Factory + ì£¼ì… ë²„ì „                                 |
| --------------- | -------------------------------------- | --------------------------------------------------- |
| **ì˜ì¡´ì„± í˜•íƒœ** | ê°•ê²°í•© (Tight Coupling)                | ëŠìŠ¨í•œ ê²°í•© (Loose Coupling)                        |
| **íŠ¹ì§•**        | í´ë˜ìŠ¤ ê°„ ë³€ê²½ì´ ì–´ë µê³ , ìœ ì§€ë³´ìˆ˜ í˜ë“¦ | Washer ì¢…ë¥˜ê°€ ë°”ë€Œì–´ë„ User ì½”ë“œëŠ” ê·¸ëŒ€ë¡œ ìœ ì§€ ê°€ëŠ¥ |
| **ë¹„ìœ **        | ë‚´ê°€ ì§ì ‘ ì„¸íƒê¸° ì‚¼                    | ê³µì¥ì—ì„œ ë°›ì•„ì”€                                     |
| **ì½”ë“œ ê´€ê³„**   | `new Swasher()`                        | `WasherUser(Washer washer)`                         |
| **ê²°ê³¼**        | ì„¸íƒê¸° ë°”ê¾¸ë ¤ë©´ ì½”ë“œ ê³ ì³ì•¼ í•¨ ğŸ˜­      | ì„¸íƒê¸° ë°”ë€Œì–´ë„ ë‚œ ê·¸ëŒ€ë¡œ ğŸ˜                        |

---

## 3. Spring Frameworkì˜ ì—­í• 

### 3.1 Springì˜ ë“±ì¥

**Springì˜ ì—­í• **

- WasherUser, SWasher, LWasher ê°™ì€ ê°ì²´ë¥¼ **ë¹ˆì´ë¼ëŠ” ê°œë…ìœ¼ë¡œ ê´€ë¦¬**
- ì„¤ì •ì— ë”°ë¼ WasherUserì˜ ì˜ì¡´ì„±ì¸ Washerì— ê°€ì§€ê³  ìˆëŠ” ë¹ˆ(SWasher, LWasher ì¤‘ í•˜ë‚˜)ì„ **ìë™ìœ¼ë¡œ ì£¼ì…**

### 3.2 Springì˜ ë¹ˆ ê´€ë¦¬ ê³¼ì •

<img src="./img/3.png">

**3ë‹¨ê³„ í”„ë¡œì„¸ìŠ¤**

1. **ê°œë°œìëŠ” POJOë¡œ ë¹ˆ ì‘ì„±**

   - ì¼ë°˜ì ì¸ ìë°” ê°ì²´ë¡œ ì‘ì„±

2. **ë©”íƒ€ì •ë³´ ì „ë‹¬**

   - ë¹ˆì˜ ìƒì„± ë°©ë²• ë° ê´€ê³„ ì„¤ì • ì •ë³´ë¥¼ ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆì—ê²Œ ì „ë‹¬

3. **ëŸ°íƒ€ì„ ì²˜ë¦¬**
   - ìŠ¤í”„ë§ì€ ë©”íƒ€ ì •ë³´ë¥¼ ë³´ê³  ë¹ˆ ê°ì²´ ìƒì„± â†’ **ì‹±ê¸€í„´ í˜•íƒœë¡œ ê´€ë¦¬**
   - ë¹ˆ ê´€ê³„ ì •ë³´ì— ë”°ë¼ **ì£¼ì… ì²˜ë¦¬**

### 3.3 DI ë°©ë²•

ê°ì²´ì˜ ì˜ì¡´ì„±ì„ ì£¼ì…í•˜ëŠ” ë°©ë²•:

1. **ì§ì ‘ fieldì— í• ë‹¹í•˜ëŠ” ë°©ë²•**
2. **ìƒì„±ìë¥¼ í™œìš©í•˜ëŠ” ë°©ë²•** (ê¶Œì¥)
3. **setter ë©”ì„œë“œë¥¼ ì´ìš©í•˜ëŠ” ë°©ë²•**

---

## 4. ëª…ì‹œì  DI - @Configurationê³¼ @Bean

### 4.1 ëª…ì‹œì  DIë€?

**ì •ì˜**

- ë¹ˆì„ ìƒì„±í•˜ê³  ì˜ì¡´ì„±ì„ ì£¼ì…í•˜ëŠ” ì½”ë“œë¥¼ **ë³„ë„ì˜ íŒŒì¼ì— ëª…ì‹œ**
- ì„¤ì • í´ë˜ìŠ¤ë¥¼ í†µí•´ ë¹ˆì„ ì§ì ‘ ì •ì˜

### 4.2 @Configuration

**ì—­í• **

- "ì´ í´ë˜ìŠ¤ëŠ” ì„¤ì •ì„ ë‹´ê³  ìˆëŠ” ê³³ì´ì•¼!" ë¼ëŠ” í‘œì‹œ
- í´ë˜ìŠ¤ ì•ˆì—ì„œ ì–´ë–¤ ë¹ˆì„ ë§Œë“¤ì§€ ì •ë¦¬í•˜ëŠ” ì—­í• 
- Java ê¸°ë°˜ìœ¼ë¡œ ì„¤ì • íŒŒì¼ì„ ë§Œë“¤ê¸° ìœ„í•œ annotation
- **í´ë˜ìŠ¤ ë ˆë²¨ì— ì„ ì–¸**

```java
@Configuration
public class WasherConfig {
    // ë¹ˆ ì •ì˜ ë©”ì„œë“œë“¤...
}
```

### 4.3 @Bean

**ì—­í• **

- ë¹ˆì„ ì„ ì–¸í•˜ê¸° ìœ„í•œ annotation
- **ë©”ì„œë“œ ë ˆë²¨ì— ì„ ì–¸**
- **ë©”ì„œë“œì˜ ì´ë¦„ = ë¹ˆì˜ ì´ë¦„**

**íŠ¹ì§•**

- `@Bean`ì˜ `value` ë˜ëŠ” `name` ì†ì„±ìœ¼ë¡œ ë¹ˆ ì´ë¦„ ì§€ì • ê°€ëŠ¥
- `autowireCandidate` ì†ì„±ìœ¼ë¡œ ìë™ ì£¼ì… ì—¬ë¶€ ì§€ì • ê°€ëŠ¥
- ë©”ì„œë“œ ì´ë¦„ì„ ì§€ì •í•˜ì§€ ì•Šìœ¼ë©´, ë©”ì„œë“œ ì´ë¦„ì´ ë¹ˆ ì´ë¦„ì´ ë¨

### 4.4 ì˜ˆì‹œ ì½”ë“œ

**WasherConfig.java**

```java
@Configuration
public class WasherConfig {

    @Bean
    public SWasher sWasher() {
        return new SWasher();
    }

    @Bean
    public LWasher lWasher() {
        return new LWasher();
    }

    @Bean
    public WasherUser washerUser() {
        // ìƒì„±ìë¥¼ í†µí•œ ë¹ˆ ì£¼ì…
        return new WasherUser(sWasher());
    }
}
```

**ì„¤ëª…**

- `sWasher()`: SWasher íƒ€ì…ì˜ ë¹ˆ ìƒì„±
- `lWasher()`: LWasher íƒ€ì…ì˜ ë¹ˆ ìƒì„±
- `washerUser()`: WasherUser íƒ€ì…ì˜ ë¹ˆ ìƒì„±, ìƒì„±ìì— `sWasher()` ì£¼ì…

### 4.5 ì‚¬ìš© ì˜ˆì‹œ

**WasherTest.java**

```java
public class WasherTest {
    public static void main(String[] args) {
        // ìŠ¤í”„ë§ì˜ IoC ì»¨í…Œì´ë„ˆ(ë¹ˆì„ ê´€ë¦¬í•˜ëŠ” í†µ) ìƒì„±
        ApplicationContext ctx = new AnnotationConfigApplicationContext(WasherConfig.class);

        // ì»¨í…Œì´ë„ˆì—ì„œ ë¹ˆ êº¼ë‚´ê¸°
        Washer washer = ctx.getBean(SWasher.class);
        WasherUser user = ctx.getBean(WasherUser.class);

        // ë¹ˆ ì‚¬ìš©
        user.useWasher();

        // ê°™ì€ ê°ì²´ì¸ì§€ í™•ì¸ (ì‹±ê¸€í„´)
        System.out.println(user.getWasher() == washer);
    }
}
```

**ì‹¤í–‰ íë¦„**

1. `ApplicationContext` ìƒì„± â†’ `WasherConfig` ì½ê¸°
2. `WasherConfig`ì˜ `@Bean` ë©”ì„œë“œë“¤ ì‹¤í–‰
3. ë¹ˆë“¤ì´ ì»¨í…Œì´ë„ˆì— ë“±ë¡ë¨
4. `getBean()`ìœ¼ë¡œ ë¹ˆ êº¼ë‚´ì„œ ì‚¬ìš©

---

## 5. Bean ìƒëª…ì£¼ê¸°

### 5.1 Bean ìƒëª…ì£¼ê¸° 7ë‹¨ê³„

<img src="./img/bean_lifecycle.jpg">

**ìˆœì„œ**

1. **ìŠ¤í”„ë§ IoC ì»¨í…Œì´ë„ˆ ìƒì„±**
2. **ìŠ¤í”„ë§ ë¹ˆ ìƒì„±**
3. **ì˜ì¡´ê´€ê³„ ì£¼ì…**
4. **ì´ˆê¸°í™” ì½œë°± ë©”ì†Œë“œ í˜¸ì¶œ** (`@PostConstruct`, `afterPropertiesSet()`)
5. **ì‚¬ìš©**
6. **ì†Œë©¸ ì „ ì½œë°± ë©”ì†Œë“œ í˜¸ì¶œ** (`@PreDestroy`, `destroy()`)
7. **ìŠ¤í”„ë§ ì¢…ë£Œ**

**í•µì‹¬**

- ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆê°€ ë¹ˆì˜ ì „ì²´ ìƒëª…ì£¼ê¸°ë¥¼ ê´€ë¦¬
- ê° ë‹¨ê³„ë§ˆë‹¤ ì½œë°± ë©”ì„œë“œë¡œ ì»¤ìŠ¤í„°ë§ˆì´ì§• ê°€ëŠ¥
- ìë™ìœ¼ë¡œ ì •ë¦¬ ì‘ì—… ìˆ˜í–‰

### Bean ìƒëª…ì£¼ê¸°

- ì»¨í…Œì´ë„ˆ ìƒì„± â†’ ë¹ˆ ìƒì„± â†’ ì˜ì¡´ì„± ì£¼ì… â†’ ì´ˆê¸°í™” â†’ ì‚¬ìš© â†’ ì†Œë©¸ â†’ ì¢…ë£Œ
- ìŠ¤í”„ë§ì´ ì „ì²´ ìƒëª…ì£¼ê¸° ê´€ë¦¬

### 6. ë¬µì‹œì  DI

- ëª…ì‹œì  DI ì²˜ëŸ¼ `@Configuration` ì—ì„œ `@Bean` ì„ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” í˜•íƒœ

#### `@Component`

- ë¹ˆìœ¼ë¡œ ì‚¬ìš©í•  ê°ê°ì˜ í´ë˜ìŠ¤ë“¤ì— @Component í‘œì‹œ

```java
@Target(ElementType.TYPE)
public @interface Component {
    String value() default ""; // ìƒì„±ë˜ëŠ” ë¹ˆì˜ ì´ë¦„ì„ ì¬ì •ì˜ í•˜ë ¤ëŠ” ê²½ìš° ì‚¬ìš©
}
```

- ê¸°ë³¸ ë¹ˆì˜ ì´ë¦„
  - í´ë˜ìŠ¤ ì´ë¦„ì´ Pascal case ì¸ ê²½ìš°ëŠ” ì²« ê¸€ìë¥¼ ì†Œë¬¸ìë¡œ í•œ camel case, ê·¸ë ‡ì§€ ì•Šì€ ê²½ìš° í´ë˜ìŠ¤ ì´ë¦„ ê·¸ëŒ€ë¡œ ì‚¬ìš©

```plain text
ex1. IronMan -> ironMan
ex2. SWasher ->SWasher
```

- @Component ì˜ value ì†ì„±ìœ¼ë¡œ ì¬ì •ì˜ ê°€ëŠ¥

#### `@Autowired`

- ë¹ˆì„ ì£¼ì…í•˜ê¸° ìœ„í•´ ì‚¬ìš©ë˜ëŠ” ì–´ë…¸í…Œì´ì…˜
- íƒ€ì…(í´ë˜ìŠ¤ ì¢…ë¥˜)ê¸°ë°˜ ì£¼ì…. íƒ€ì…ì„ ë³´ê³  ì•Œì•„ì„œ í•´ë‹¹ íƒ€ì…ì˜ ë¹ˆì„ ì»¨í…Œì´ë„ˆì—ì„œ ì°¾ìŒ.
- ê°™ì€ íƒ€ì…ì´ ë‘ ê°œë¼ë©´ `@Qualifer` ì„ í†µí•´ ì´ë¦„ìœ¼ë¡œ ì•Œë ¤ì¤Œ
- ìƒì„±ìì™€ ë©”ì„œë“œì—ì„œ ì‚¬ìš© ì‹œ ëŒ€ìƒ íŒŒë¼ë¯¸í„°ëŠ” ëª¨ë‘ Spring Bean ë˜ëŠ” @Value ì— ì˜í•œ scalar ê°’

**Bean ì£¼ì…ê³¼ Scalar ê°’ ì£¼ì…**

| êµ¬ë¶„               | ì˜ˆì‹œ                                  | ì„¤ëª…                              |
| ------------------ | ------------------------------------- | --------------------------------- |
| **Bean ì£¼ì…**      | `@Autowired IronMan ironMan;`         | ìŠ¤í”„ë§ì´ ë§Œë“  ê°ì²´ë¥¼ ë„£ì–´ì¤Œ       |
| **Scalar ê°’ ì£¼ì…** | `@Value("${hero.name}") String name;` | ë‹¨ìˆœí•œ ê°’(ë¬¸ì, ìˆ«ì ë“±)ì„ ë„£ì–´ì¤Œ |

- `required = true`: ê¸°ë³¸ê°’ì´ true ë¼ ê¼­ ìˆì–´ì•¼ í•˜ëŠ” ê²ƒ
- `required = false`: ì—†ìœ¼ë©´ null ë¡œ ë‘ 
- í•œ í´ë˜ìŠ¤ì— `@Autowired` ì— ì ìš©ëœ ìƒì„±ìëŠ” ìµœëŒ€ í•˜ë‚˜ë§Œ ê°€ëŠ¥í•˜ë©° ë©”ì„œë“œëŠ” ì—¬ëŸ¬ ë²ˆ ì‚¬ìš© ê°€ëŠ¥
- ìƒì„±ìê°€ 1ê°œì¼ ê²½ìš°ì— `@Autowired` ìƒëµ ê°€ëŠ¥
- ë©”ì„œë“œì—ì„œëŠ” ì—¬ëŸ¬ë²ˆ ì“¸ ìˆ˜ ìˆìŒ

**ë¶™ì¼ ìˆ˜ ìˆëŠ” ê³³**

| ë¶™ì´ëŠ” ìœ„ì¹˜ | ì˜ˆì‹œ                                                 | ì„¤ëª…                      |
| ----------- | ---------------------------------------------------- | ------------------------- |
| **í•„ë“œ**    | `@Autowired private IronMan ironMan;`                | ë°”ë¡œ ë³€ìˆ˜ì— ê½‚ìŒ          |
| **ìƒì„±ì**  | `@Autowired public HeroUser(IronMan ironMan)`        | ê°ì²´ ë§Œë“¤ ë•Œ ê°™ì´ ê½‚ìŒ    |
| **ë©”ì„œë“œ**  | `@Autowired public void setIronMan(IronMan ironMan)` | Setter ê°™ì€ ë©”ì„œë“œë¡œ ê½‚ìŒ |

**ì˜ˆì‹œ**

ë§Œì•½, ì£¼ì¸ê³µ ì¥ë‚œê°ì´ HeroUser ì´ê³ , ë„ì™€ì£¼ëŠ” ëŒ€ë°• ì§± ìˆ ì¸í˜•ì´ IronMan ì´ë¼ê³  ê°€ì •í•˜ì.
HeroUser ì€ IronMan ì—†ì´ëŠ” ì•…ë‹¹ì„ ë¬´ì°Œë¥´ì§€ ëª»í•œë‹¤ !
ê·¸ë˜ì„œ ìŠ¤í”„ë§ì´ ìë™ìœ¼ë¡œ IronMan ì¸í˜•ì„ ì°¾ì•„ì„œ ê½‚ì•„ì¤˜ì•¼ í•œë‹¤ê³  ìƒê°í•´ë³´ì.

- IronMan ì—­í• : ê³µê²©
- HeroUser ì—­í• : IronMan ì´ìš©í•´ì„œ ì‹¸ìš°ê¸°

1. IronMan ë“±ë¡

```java
import org.springframework.stereotype.Component;

@Component
public class IronMan {
    public void attack() {
        System.out.println("ë¦¬í„ì„œ ë¹”~~ğŸ”«");
    }
}
```

```java
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Component;

@Component
public class HeroUser {
    private final IronMan ironMan;

    @Autowired  // ìŠ¤í”„ë§ì•„, IronMan ì¢€ ë„£ì–´ì¤˜~
    // ìƒì„±ìê°€ 1ê°œì´ë©´ Autowired ì–´ë…¸í…Œì´ì…˜ ì•ˆì¨ë„ ë¨
    public HeroUser(IronMan ironMan) {
        this.ironMan = ironMan;
    }

    public void fight() {
        ironMan.attack();
    }
}
```

ë˜ê²Œ ê°ì²´ì§€í–¥ì ì´ë¼ëŠ” ìƒê°ì´ ë“¤ì–´ì„œ ê°ì²´ì§€í–¥ì ì¸ ì´ìœ ë¥¼ ìƒê°í•´ë³´ì•˜ë‹¤.

| OOP ì›ì¹™                 | ì´ ì½”ë“œì—ì„œì˜ ì ìš©                                                   |
| ------------------------ | -------------------------------------------------------------------- |
| **ë‹¨ì¼ ì±…ì„ ì›ì¹™ (SRP)** | IronManì€ ê³µê²©ë§Œ, HeroUserëŠ” IronManì„ ì‚¬ìš©í•˜ëŠ” ì—­í• ë§Œ               |
| **ì˜ì¡´ ì—­ì „ ì›ì¹™ (DIP)** | HeroUserëŠ” êµ¬ì²´ì ì¸ IronManì´ ì•„ë‹ˆë¼, â€œê³µê²©í•  ìˆ˜ ìˆëŠ” ì¡´ì¬â€ì— ì˜ì¡´í•¨ |
| **ê°œë°©-íì‡„ ì›ì¹™ (OCP)** | IronMan ëŒ€ì‹  Hulk, Thorë¡œ ë°”ê¿”ë„ HeroUserëŠ” ìˆ˜ì •í•  í•„ìš” ì—†ìŒ         |
| **ìº¡ìŠí™”**               | HeroUserëŠ” IronMan ë‚´ë¶€ êµ¬í˜„ì„ ëª°ë¼ë„ ë¨ (attack()ë§Œ ì•Œë©´ ë¨)        |

`@ComponentScan`

- `@Component` ëŠ” ë‹¨ì§€ "ë¹ˆì´ ë  ìˆ˜ ìˆë‹¤"ëŠ” ì˜ë„ë¡œ ì‹¤ì œ ë¹ˆì„ ë§Œë“¤ì§€ëŠ” ì•ŠìŒ
- `@ComponentScan`ì„ í†µí•´ ëŒ€ìƒ ë¹ˆì„ scan í•´ì•¼ ë¹ˆìœ¼ë¡œ ë“±ë¡ë¨

```java
@Target(ElementType.TYPE)
public @interface ComponentScan {

    @AliasFor("basePackages") // ë³„ëª… ë¶™ì´ê¸°
    String[] value() default {}; // valueë¼ëŠ” ì†ì„±ì„ ì„ ì–¸. ê¸°ë³¸ê°’ì€ ë¹ˆ ë°°ì—´.

    @AliasFor("value")
    // @Component ë¥¼ ì°¾ì•„ë³¼ package ë“±ë¡ - í•˜ìœ„íŒ¨í‚¤ì§€ ëª¨ë‘ scan
    String[] basePackages() default {}; // basePackages() ê°€ value ì˜ ë³„ëª…ì„
}

```

---

## ğŸ“Œ í•µì‹¬ ì •ë¦¬

### ì˜ì¡´ì„±ê³¼ DI

- **ì˜ì¡´ì„±**: ê°ì²´ ê°„ has-a ê´€ê³„
- **DI**: ì˜ì¡´ì„±ì„ ì™¸ë¶€ì—ì„œ ì£¼ì…
- **IoC**: ì œì–´ì˜ ì—­ì „, ìŠ¤í”„ë§ì´ ê°ì²´ ìƒëª…ì£¼ê¸° ê´€ë¦¬

### DIì˜ í•„ìš”ì„±

- **ê°•ê²°í•©**: ì§ì ‘ ìƒì„± â†’ ìœ ì§€ë³´ìˆ˜ ì–´ë ¤ì›€
- **ëŠìŠ¨í•œ ê²°í•©**: ì£¼ì… ë°›ê¸° â†’ ìœ ì§€ë³´ìˆ˜ ìš©ì´

### ëª…ì‹œì  DI

- **@Configuration**: ì„¤ì • í´ë˜ìŠ¤ í‘œì‹œ
- **@Bean**: ë¹ˆ ì •ì˜ ë©”ì„œë“œ
- ìƒì„±ì ì£¼ì…ì„ í†µí•œ ì˜ì¡´ì„± ì£¼ì…

---

## ğŸ“š ì°¸ê³  ìë£Œ

- í”„ë¡œì íŠ¸: `backend/DI/FW_02/`
- ì£¼ìš” íŒŒì¼:
  - `Washer.java` (Interface)
  - `SWasher.java` (implements Washer)
  - `LWasher.java` (implements Washer)
  - `WasherUser.java`
  - `WasherConfig.java` (ì„¤ì • í´ë˜ìŠ¤)
  - `WasherTest.java` (í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤)
  - `com.study.live.washer/WasherTest.java`(í…ŒìŠ¤íŠ¸ íŒŒì¼)

```

```
